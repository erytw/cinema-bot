## –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

bot_tg: @erytw_cinema_bot
author_tg: @erytw

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

- aiogram
- aiohttp
- beautifulsoup4
- aiosqlite3, –æ–±–µ—Ä–Ω—É—Ç—ã–π orm sqlalchemy
- fuzzywuzzy –¥–ª—è fuzzy-—Å–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å–º–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:

- /start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- /help - –ø–æ–º–æ—â—å
- /history - –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞
- /stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- _–¢–µ–∫—Å—Ç_ - –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

### –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω:

cinema_bot.py - –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª, –≤ –Ω–µ–º –∫—Ä—É—Ç–∏—Ç—Å—è –±–æ—Ç –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

movie_searcher - —Ñ–∞–π–ª —Å –∫–ª–∞—Å—Å–æ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º —É–∑–Ω–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–ª—å–º–∞—Ö –∏ –ø–æ–ª—É—á–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä

db.py - —Ñ–∞–π–ª —Å –∫–ª–∞—Å—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å orm

- –í—ã–¥–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∏–ª—å–º –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: –∏–∑ –æ–¥–Ω–æ–≥–ª–∞–∑–æ–≥–æ –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞, –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∏–Ω–æ–ø–æ–∏—Å–∫—É, –∏ –∏–∑ —Ç–∞–∫–æ–≥–æ –∂–µ –æ–¥–Ω–æ–≥–ª–∞–∑–æ–≥–æ filmix, –≤ –ø–æ–∏—Å–∫–æ–≤–∏–∫ –∫–æ—Ç–æ—Ä–æ–≥–æ —è –æ—Ç–ø—Ä–∞–≤–ª—è—é post, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–∞—Ä—à—É –æ—Ç–≤–µ—Ç, –ø—Ä–æ–≤–µ—Ä—è—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –≤—ã–¥–∞—é —Å—Ä–∞–∑—É —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–∫–∞–∑.

- –í—ã–¥–∞—á–∞ –∏–∑ filmix –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ LINK_CAP —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ 2 –∏–ª–∏ –≤—ã—à–µ, —Ç–∞–∫ –∫–∞–∫ —Å–∞–π—Ç –¥–æ–ª–≥–æ–≤–∞—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç post –∑–∞–ø—Ä–æ—Å, –∞ —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ –ø–µ—Ä–≤–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É, –Ω–æ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ –≤—Ç–æ—Ä–æ–º—É, —è –Ω–µ –Ω–∞—à–µ–ª.

- –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–∏—Å–∫ —Å—Å—ã–ª–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ —Ñ–∏–ª—å–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. (–ï—Å–ª–∏ —é–∑–µ—Ä –ø—Ä–æ—Å–∏—Ç "–¢–∞–∫—Å–∏", —Ç–æ –º—ã –Ω–∞–π–¥–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±–æ –≤—Å–µ—Ö MOVIE_CAP —Ñ–∏–ª—å–º–∞—Ö –æ–¥–Ω–∏–º get –∑–∞–ø—Ä–æ—Å–æ–º, –∏ —Å–æ—Ö—Ä–∞–Ω–∏–º –∏—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∞ —Å—Å—ã–ª–∫–∏ –∑–∞–ø—Ä–æ—Å–∏–º —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–∞–º–æ–≥–æ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞(–ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å —Ñ–∏–ª—å–º–∞). –î–ª—è –≤—Ç–æ—Ä–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∫–æ–∏–º —è–≤–ª—è–µ—Ç—Å—è –¢–∞–∫—Å–∏ 2, —Å—Å—ã–ª–∫–∏ –º—ã –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–∏ —Å—Ç—Ä–µ–ª–æ—á–∫–æ–π.) –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–∏—Ä–∞—Ç—Å–∫–æ–≥–æ filmix –ø–æ–∏—Å–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º–æ–π –¥–æ–ª–≥–æ–π —á–∞—Å—Ç—å—é –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ.

### –§–∏—à–∫–∏:

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
- –õ–æ–≥–≥–∏—Ä—É—é –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É–¥–æ–±–Ω–æ –¥–µ–±–∞–≥–∞—Ç—å –≤ —Å–ª—É—á–∞–µ —á–µ–≥–æ
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–¥–æ–±–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ poetry
- –ë–ª–∞–≥–æ–¥–∞—Ä—è fsmcontext –º–æ–∂–Ω–æ –ª–∏—Å—Ç–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–∫–∞–º–∏ —Ñ–∏–ª—å–º—ã, –µ—Å–ª–∏ –∏—Ö –Ω–∞—à–ª–æ—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ(–û–≥—Ä–∞–Ω–∏—á–∏–ª 3, –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å –ø–æ–º–æ—â—å—é MOVIE_CAP), –∞ —Ç–∞–∫ –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã /stats –∏ /history, –µ—Å–ª–∏ –µ—Å—Ç—å –±–æ–ª—å—à–µ 20 –∑–∞–ø–∏—Å–µ–π

### Setup:

1. –ü–æ—Å—Ç–∞–≤—å—Ç–µ poetry –Ω–∞ –∫–æ–º–øü•∞

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
poetry install
```

### Run:

```bash
BOT_TOKEN=<token> KINOPOISK_UNOFFICIAL_API_KEY=<token> poetry run python src/cinema_bot.py
```

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ª–∏–º–∏—Ç–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º –∏ —Ñ–∏–ª—å–º–∞–º:

```bash
MOVIE_CAP=<int, default: 3> LINK_CAP=<int, default: 1>
```

–°–æ–≤–µ—Ç—É—é –≤—ã–≤–æ–¥–∏—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã

```bash
>bot.log
```
